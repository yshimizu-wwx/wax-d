{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yusuk/Documents/wwx/Wayfinder%20AgriX/v3-app/src/lib/calculator.ts"],"sourcesContent":["/**\r\n * Calculator Logic ported from GAS\r\n * \r\n * Replicates the logic found in `../v3/Calculator.js`\r\n */\r\n\r\nimport { Project } from '@/types/database';\r\n\r\n// Configuration constants from Config.js\r\nexport const TAX_RATE = 0.1;\r\n\r\nexport interface CalculationResult {\r\n    currentPrice: number | null;\r\n    progress: number;\r\n    isUnformed: boolean;\r\n}\r\n\r\nexport interface TaxResult {\r\n    taxAmount: number;\r\n    amountInclusive: number;\r\n    taxRate: number;\r\n}\r\n\r\n/**\r\n * Helper to convert value to number safely\r\n */\r\nfunction toNumber(value: any): number {\r\n    if (value === null || value === undefined || value === '') return 0;\r\n    const num = Number(value);\r\n    return isNaN(num) ? 0 : num;\r\n}\r\n\r\n/**\r\n * Calculate the current unit price based on total area.\r\n */\r\nexport function calculateCurrentUnitPrice(\r\n    campaign: Project,\r\n    totalArea10r: number\r\n): CalculationResult {\r\n    const targetArea = toNumber(campaign.target_area_10r) || 1;\r\n    const basePrice = toNumber(campaign.base_price);\r\n    const minPrice = toNumber(campaign.min_price);\r\n    const minTargetArea = toNumber(campaign.min_target_area_10r);\r\n    const maxTargetArea = toNumber(campaign.max_target_area_10r) || targetArea;\r\n    const executionPrice = toNumber(campaign.execution_price);\r\n\r\n    let progress = Math.min(totalArea10r / targetArea, 1);\r\n    let currentPrice: number | null = null;\r\n    let isUnformed = false;\r\n\r\n    if (minTargetArea > 0) {\r\n        if (totalArea10r < minTargetArea) {\r\n            progress = totalArea10r / minTargetArea;\r\n            currentPrice = null;\r\n            isUnformed = true;\r\n        } else if (totalArea10r >= maxTargetArea) {\r\n            progress = 1;\r\n            currentPrice = Math.floor(minPrice);\r\n        } else {\r\n            progress = minTargetArea < maxTargetArea\r\n                ? (totalArea10r - minTargetArea) / (maxTargetArea - minTargetArea)\r\n                : 1;\r\n            const execP = executionPrice > 0 ? executionPrice : basePrice;\r\n            currentPrice = Math.floor(execP + (minPrice - execP) * progress);\r\n        }\r\n    } else {\r\n        // Old logic: linear from base -> min\r\n        currentPrice = Math.floor(basePrice - (basePrice - minPrice) * progress);\r\n    }\r\n\r\n    return { currentPrice, progress, isUnformed };\r\n}\r\n\r\n/**\r\n * Calculate final amount (excluding tax).\r\n */\r\nexport function calculateFinalAmount(unitPrice: number, actualArea10r: number): number {\r\n    const price = Number(unitPrice) || 0;\r\n    const area = Number(actualArea10r) || 0;\r\n    return Math.floor(area * price);\r\n}\r\n\r\n/**\r\n * Calculate tax and inclusive amount.\r\n */\r\nexport function calculateTax(amountExTax: number): TaxResult {\r\n    const rate = TAX_RATE;\r\n    const amount = Number(amountExTax) || 0;\r\n    const taxAmount = Math.floor(amount * rate);\r\n    const amountInclusive = amount + taxAmount;\r\n    return { taxAmount, amountInclusive, taxRate: rate };\r\n}\r\n\r\n/**\r\n * Calculate polygon area in square meters using spherical approximation.\r\n * Replicates `calculatePolygonArea` from `js_polygon_map.html`.\r\n */\r\nexport function calculatePolygonArea(latlngs: { lat: number; lng: number }[]): number {\r\n    if (!latlngs || latlngs.length < 3) return 0;\r\n\r\n    const R = 6371000; // Earth radius in meters\r\n    let sphericalArea = 0;\r\n\r\n    for (let i = 0; i < latlngs.length; i++) {\r\n        const j = (i + 1) % latlngs.length;\r\n        const lat1 = latlngs[i].lat * Math.PI / 180;\r\n        const lng1 = latlngs[i].lng * Math.PI / 180;\r\n        const lat2 = latlngs[j].lat * Math.PI / 180;\r\n        const lng2 = latlngs[j].lng * Math.PI / 180;\r\n\r\n        sphericalArea += (lng2 - lng1) * (2 + Math.sin(lat1) + Math.sin(lat2));\r\n    }\r\n\r\n    return Math.abs(sphericalArea * R * R / 2);\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;;;;;AAKM,MAAM,WAAW;AAcxB;;CAEC,GACD,SAAS,SAAS,KAAU;IACxB,IAAI,UAAU,QAAQ,UAAU,aAAa,UAAU,IAAI,OAAO;IAClE,MAAM,MAAM,OAAO;IACnB,OAAO,MAAM,OAAO,IAAI;AAC5B;AAKO,SAAS,0BACZ,QAAiB,EACjB,YAAoB;IAEpB,MAAM,aAAa,SAAS,SAAS,eAAe,KAAK;IACzD,MAAM,YAAY,SAAS,SAAS,UAAU;IAC9C,MAAM,WAAW,SAAS,SAAS,SAAS;IAC5C,MAAM,gBAAgB,SAAS,SAAS,mBAAmB;IAC3D,MAAM,gBAAgB,SAAS,SAAS,mBAAmB,KAAK;IAChE,MAAM,iBAAiB,SAAS,SAAS,eAAe;IAExD,IAAI,WAAW,KAAK,GAAG,CAAC,eAAe,YAAY;IACnD,IAAI,eAA8B;IAClC,IAAI,aAAa;IAEjB,IAAI,gBAAgB,GAAG;QACnB,IAAI,eAAe,eAAe;YAC9B,WAAW,eAAe;YAC1B,eAAe;YACf,aAAa;QACjB,OAAO,IAAI,gBAAgB,eAAe;YACtC,WAAW;YACX,eAAe,KAAK,KAAK,CAAC;QAC9B,OAAO;YACH,WAAW,gBAAgB,gBACrB,CAAC,eAAe,aAAa,IAAI,CAAC,gBAAgB,aAAa,IAC/D;YACN,MAAM,QAAQ,iBAAiB,IAAI,iBAAiB;YACpD,eAAe,KAAK,KAAK,CAAC,QAAQ,CAAC,WAAW,KAAK,IAAI;QAC3D;IACJ,OAAO;QACH,qCAAqC;QACrC,eAAe,KAAK,KAAK,CAAC,YAAY,CAAC,YAAY,QAAQ,IAAI;IACnE;IAEA,OAAO;QAAE;QAAc;QAAU;IAAW;AAChD;AAKO,SAAS,qBAAqB,SAAiB,EAAE,aAAqB;IACzE,MAAM,QAAQ,OAAO,cAAc;IACnC,MAAM,OAAO,OAAO,kBAAkB;IACtC,OAAO,KAAK,KAAK,CAAC,OAAO;AAC7B;AAKO,SAAS,aAAa,WAAmB;IAC5C,MAAM,OAAO;IACb,MAAM,SAAS,OAAO,gBAAgB;IACtC,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS;IACtC,MAAM,kBAAkB,SAAS;IACjC,OAAO;QAAE;QAAW;QAAiB,SAAS;IAAK;AACvD;AAMO,SAAS,qBAAqB,OAAuC;IACxE,IAAI,CAAC,WAAW,QAAQ,MAAM,GAAG,GAAG,OAAO;IAE3C,MAAM,IAAI,SAAS,yBAAyB;IAC5C,IAAI,gBAAgB;IAEpB,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;QACrC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,QAAQ,MAAM;QAClC,MAAM,OAAO,OAAO,CAAC,EAAE,CAAC,GAAG,GAAG,KAAK,EAAE,GAAG;QACxC,MAAM,OAAO,OAAO,CAAC,EAAE,CAAC,GAAG,GAAG,KAAK,EAAE,GAAG;QACxC,MAAM,OAAO,OAAO,CAAC,EAAE,CAAC,GAAG,GAAG,KAAK,EAAE,GAAG;QACxC,MAAM,OAAO,OAAO,CAAC,EAAE,CAAC,GAAG,GAAG,KAAK,EAAE,GAAG;QAExC,iBAAiB,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC,KAAK;IACzE;IAEA,OAAO,KAAK,GAAG,CAAC,gBAAgB,IAAI,IAAI;AAC5C"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yusuk/Documents/wwx/Wayfinder%20AgriX/v3-app/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yusuk/Documents/wwx/Wayfinder%20AgriX/v3-app/src/lib/geo/areaCalculator.ts"],"sourcesContent":["/**\n * Âú∞Âõ≥„ÉªÈù¢Á©çË®àÁÆó„É≠„Ç∏„ÉÉ„ÇØ\n *\n * Turf.js„Çí‰ΩøÁî®„Åó„Å¶„Éù„É™„Ç¥„É≥„ÅÆÈù¢Á©ç„Çí„ÄåÂèçÔºà10RÔºâ„ÄçÂçò‰Ωç„ÅßË®àÁÆó\n */\n\nimport * as turf from '@turf/turf';\nimport type { Polygon, Position } from 'geojson';\n\n/**\n * Èù¢Á©çÂçò‰Ωç„ÅÆÂÆöÊï∞\n */\nexport const AREA_CONSTANTS = {\n  /** 1Âù™ = 3.305785„é° */\n  TSUBO_TO_SQUARE_METER: 3.305785,\n\n  /** 1Âèç = 300Âù™ */\n  TAN_TO_TSUBO: 300,\n\n  /** 1Âèç = 991.7355„é° */\n  TAN_TO_SQUARE_METER: 991.7355,\n\n  /** 1„Éò„ÇØ„Çø„Éº„É´ = 10Âèç */\n  HECTARE_TO_TAN: 10,\n} as const;\n\n/**\n * „Éù„É™„Ç¥„É≥„ÅÆÈù¢Á©ç„Çí„ÄåÂèçÔºà10RÔºâ„ÄçÂçò‰Ωç„ÅßË®àÁÆó\n *\n * @param polygon - GeoJSONÂΩ¢Âºè„ÅÆ„Éù„É™„Ç¥„É≥\n * @returns Èù¢Á©çÔºàÂèçÂçò‰Ωç„ÄÅÂ∞èÊï∞ÁÇπÁ¨¨2‰Ωç„Åæ„ÅßÔºâ\n *\n * @example\n * const polygon = {\n *   type: 'Polygon',\n *   coordinates: [[\n *     [139.6917, 35.6895],\n *     [139.7017, 35.6895],\n *     [139.7017, 35.6995],\n *     [139.6917, 35.6995],\n *     [139.6917, 35.6895]\n *   ]]\n * };\n * const area = calculatePolygonArea10r(polygon);\n * // => Á¥Ñ100.5ÔºàÂèçÔºâ\n */\nexport function calculatePolygonArea10r(polygon: Polygon): number {\n  // Turf.js„ÅßÈù¢Á©ç„ÇíÂπ≥Êñπ„É°„Éº„Éà„É´„ÅßË®àÁÆóÔºàÊ∏¨Âú∞Á∑öË®àÁÆóÔºâ\n  const areaInSquareMeters = turf.area(polygon);\n\n  // 1Âèç = 991.7355„é° „ÅßÊèõÁÆó\n  const area10r = areaInSquareMeters / AREA_CONSTANTS.TAN_TO_SQUARE_METER;\n\n  // Â∞èÊï∞ÁÇπÁ¨¨2‰Ωç„ÅßÂõõÊç®‰∫îÂÖ•\n  return Math.round(area10r * 100) / 100;\n}\n\n/**\n * Â∫ßÊ®ôÈÖçÂàó„Åã„ÇâGeoJSON Polygon„ÇíÁîüÊàê\n *\n * @param coordinates - Â∫ßÊ®ôÈÖçÂàó [[lng, lat], ...]\n * @returns GeoJSON Polygon\n *\n * @example\n * const coords = [\n *   [139.6917, 35.6895],\n *   [139.7017, 35.6895],\n *   [139.7017, 35.6995],\n *   [139.6917, 35.6995]\n * ];\n * const polygon = coordinatesToPolygon(coords);\n */\nexport function coordinatesToPolygon(coordinates: Position[]): Polygon {\n  // ÂßãÁÇπ„Å®ÁµÇÁÇπ„Çí‰∏ÄËá¥„Åï„Åõ„ÇãÔºàGeoJSON‰ªïÊßòÔºâ\n  const coords = [...coordinates];\n\n  // Êó¢„Å´Èñâ„Åò„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅØ„Åù„ÅÆ„Åæ„ÅæËøî„Åô\n  const isClosed =\n    coords.length >= 4 &&\n    coords[0][0] === coords[coords.length - 1][0] &&\n    coords[0][1] === coords[coords.length - 1][1];\n\n  if (!isClosed) {\n    coords.push(coords[0]);\n  }\n\n  return {\n    type: 'Polygon',\n    coordinates: [coords],\n  };\n}\n\n/**\n * Leaflet.draw„ÅÆ„É¨„Ç§„É§„Éº„Åã„ÇâGeoJSON Polygon„ÇíÁîüÊàê\n *\n * @param layer - Leaflet.draw„ÅÆ„É¨„Ç§„É§„Éº„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà\n * @returns GeoJSON Polygon\n *\n * @example\n * // Leaflet.draw„ÅÆcreated„Ç§„Éô„É≥„Éà„ÅßÂèñÂæó„Åó„Åü„É¨„Ç§„É§„Éº\n * const layer = e.layer;\n * const polygon = leafletLayerToGeoJSON(layer);\n */\nexport function leafletLayerToGeoJSON(layer: any): Polygon {\n  // Leaflet„ÅÆ„É¨„Ç§„É§„Éº„Åã„ÇâÂ∫ßÊ®ô„ÇíÂèñÂæó\n  const latLngs = layer.getLatLngs()[0]; // Â§ñÂë®„ÅÆ„ÅøÂèñÂæó\n\n  // [lng, lat]ÂΩ¢Âºè„Å´Â§âÊèõ\n  const coordinates: Position[] = latLngs.map((latLng: any) => [\n    latLng.lng,\n    latLng.lat,\n  ]);\n\n  return coordinatesToPolygon(coordinates);\n}\n\n/**\n * PostGIS„ÅÆWKTÔºàWell-Known TextÔºâÂΩ¢Âºè„Å´Â§âÊèõ\n *\n * @param polygon - GeoJSON Polygon\n * @returns WKTÂΩ¢Âºè„ÅÆÊñáÂ≠óÂàó\n *\n * @example\n * const wkt = geoJSONToWKT(polygon);\n * // => \"POLYGON((139.6917 35.6895, 139.7017 35.6895, ...))\"\n */\nexport function geoJSONToWKT(polygon: Polygon): string {\n  const coords = polygon.coordinates[0]\n    .map(([lng, lat]) => `${lng} ${lat}`)\n    .join(', ');\n\n  return `POLYGON((${coords}))`;\n}\n\n/**\n * PostGIS„ÅÆWKTÂΩ¢Âºè„Åã„ÇâGeoJSON Polygon„Å´Â§âÊèõ\n *\n * @param wkt - WKTÂΩ¢Âºè„ÅÆÊñáÂ≠óÂàó\n * @returns GeoJSON Polygon\n *\n * @example\n * const polygon = wktToGeoJSON(\"POLYGON((139.6917 35.6895, ...))\");\n */\nexport function wktToGeoJSON(wkt: string): Polygon {\n  // \"POLYGON((...))\" „Åã„ÇâÂ∫ßÊ®ôÈÉ®ÂàÜ„ÇíÊäΩÂá∫\n  const coordsStr = wkt\n    .replace(/^POLYGON\\(\\(/, '')\n    .replace(/\\)\\)$/, '');\n\n  const coordinates: Position[] = coordsStr\n    .split(', ')\n    .map((pair) => {\n      const [lng, lat] = pair.split(' ').map(Number);\n      return [lng, lat];\n    });\n\n  return {\n    type: 'Polygon',\n    coordinates: [coordinates],\n  };\n}\n\n/**\n * 2ÁÇπÈñì„ÅÆË∑ùÈõ¢„ÇíË®àÁÆóÔºàHaversineÂÖ¨ÂºèÔºâ\n *\n * @param point1 - Âú∞ÁÇπ1 [lng, lat]\n * @param point2 - Âú∞ÁÇπ2 [lng, lat]\n * @returns Ë∑ùÈõ¢ÔºàkmÔºâ\n *\n * @example\n * const distance = calculateDistance(\n *   [139.6917, 35.6895],\n *   [139.7017, 35.6995]\n * );\n * // => Á¥Ñ1.4 (km)\n */\nexport function calculateDistance(\n  point1: Position,\n  point2: Position\n): number {\n  const from = turf.point(point1);\n  const to = turf.point(point2);\n\n  // Turf.js„ÅÆdistanceÈñ¢Êï∞Ôºà„Éá„Éï„Ç©„É´„Éà„ÅßkmÂçò‰ΩçÔºâ\n  return turf.distance(from, to, { units: 'kilometers' });\n}\n\n/**\n * „Éù„É™„Ç¥„É≥„ÅÆ‰∏≠ÂøÉÁÇπ„ÇíË®àÁÆó\n *\n * @param polygon - GeoJSON Polygon\n * @returns ‰∏≠ÂøÉÁÇπ [lng, lat]\n *\n * @example\n * const center = getPolygonCenter(polygon);\n * // => [139.6967, 35.6945]\n */\nexport function getPolygonCenter(polygon: Polygon): Position {\n  const center = turf.center(polygon);\n  return center.geometry.coordinates;\n}\n\n/**\n * „Éù„É™„Ç¥„É≥„ÇíÁ∞°Áï•ÂåñÔºàÈ†ÇÁÇπÊï∞„ÇíÂâäÊ∏õÔºâ\n *\n * @param polygon - GeoJSON Polygon\n * @param tolerance - Ë®±ÂÆπË™§Â∑ÆÔºà„Éá„Éï„Ç©„É´„Éà0.0001Ôºâ\n * @returns Á∞°Áï•Âåñ„Åï„Çå„ÅüPolygon\n *\n * @example\n * const simplified = simplifyPolygon(polygon, 0.001);\n */\nexport function simplifyPolygon(\n  polygon: Polygon,\n  tolerance: number = 0.0001\n): Polygon {\n  const feature = turf.feature(polygon);\n  const simplified = turf.simplify(feature, {\n    tolerance,\n    highQuality: true,\n  });\n\n  return simplified.geometry as Polygon;\n}\n\n/**\n * „Éù„É™„Ç¥„É≥„ÅåÊúâÂäπ„Åã„Å©„ÅÜ„Åã„ÇíÊ§úË®º\n *\n * @param polygon - GeoJSON Polygon\n * @returns Ê§úË®ºÁµêÊûú\n *\n * @example\n * const validation = validatePolygon(polygon);\n * if (!validation.isValid) {\n *   console.error(validation.error);\n * }\n */\nexport function validatePolygon(polygon: Polygon): {\n  isValid: boolean;\n  error?: string;\n} {\n  try {\n    // ÊúÄ‰Ωé3ÁÇπÔºà+ ÂßãÁÇπ„ÅÆÈáçË§áÔºâ= 4ÁÇπÂøÖË¶Å\n    if (polygon.coordinates[0].length < 4) {\n      return {\n        isValid: false,\n        error: '„Éù„É™„Ç¥„É≥„Å´„ÅØÊúÄ‰Ωé3ÁÇπ„ÅÆÂ∫ßÊ®ô„ÅåÂøÖË¶Å„Åß„Åô',\n      };\n    }\n\n    // ÂßãÁÇπ„Å®ÁµÇÁÇπ„Åå‰∏ÄËá¥„Åó„Å¶„ÅÑ„Çã„Åã\n    const first = polygon.coordinates[0][0];\n    const last = polygon.coordinates[0][polygon.coordinates[0].length - 1];\n\n    if (first[0] !== last[0] || first[1] !== last[1]) {\n      return {\n        isValid: false,\n        error: 'ÂßãÁÇπ„Å®ÁµÇÁÇπ„Åå‰∏ÄËá¥„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì',\n      };\n    }\n\n    // Ëá™Â∑±‰∫§Â∑Æ„ÉÅ„Çß„ÉÉ„ÇØ\n    const kinks = turf.kinks(polygon);\n    if (kinks.features.length > 0) {\n      return {\n        isValid: false,\n        error: '„Éù„É™„Ç¥„É≥„ÅåËá™Â∑±‰∫§Â∑Æ„Åó„Å¶„ÅÑ„Åæ„Åô',\n      };\n    }\n\n    // Èù¢Á©ç„Åå0„Åß„Å™„ÅÑ„Åã\n    const area = turf.area(polygon);\n    if (area === 0) {\n      return {\n        isValid: false,\n        error: '„Éù„É™„Ç¥„É≥„ÅÆÈù¢Á©ç„Åå0„Åß„Åô',\n      };\n    }\n\n    return { isValid: true };\n  } catch (error) {\n    return {\n      isValid: false,\n      error: error instanceof Error ? error.message : '‰∏çÊòé„Å™„Ç®„É©„Éº',\n    };\n  }\n}\n\n/**\n * Ë§áÊï∞„ÅÆ„Éù„É™„Ç¥„É≥„ÅåÈáçË§á„Åó„Å¶„ÅÑ„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ\n *\n * @param polygon1 - „Éù„É™„Ç¥„É≥1\n * @param polygon2 - „Éù„É™„Ç¥„É≥2\n * @returns ÈáçË§á„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêàtrue\n */\nexport function polygonsOverlap(\n  polygon1: Polygon,\n  polygon2: Polygon\n): boolean {\n  try {\n    const feature1 = turf.polygon(polygon1.coordinates);\n    const feature2 = turf.polygon(polygon2.coordinates);\n\n    const intersection = turf.intersect(feature1, feature2);\n\n    return intersection !== null && intersection !== undefined;\n  } catch {\n    return false;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 296, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yusuk/Documents/wwx/Wayfinder%20AgriX/v3-app/src/lib/api.ts"],"sourcesContent":["import { supabase } from '@/lib/supabase'\r\nimport { Project } from '@/types/database'\r\nimport type { Polygon } from 'geojson'\r\nimport { geoJSONToWKT } from '@/lib/geo/areaCalculator'\r\n\r\nexport async function fetchProjects(): Promise<Project[]> {\r\n    const { data, error } = await supabase\r\n        .from('projects')\r\n        .select('*')\r\n\r\n    if (error) {\r\n        console.error('Error fetching projects:', error)\r\n        return []\r\n    }\r\n\r\n    return data as Project[] || []\r\n}\r\n\r\n/**\r\n * Fetch the currently active project/campaign\r\n */\r\nexport async function fetchActiveProject(): Promise<Project | null> {\r\n    const { data, error } = await supabase\r\n        .from('projects')\r\n        .select('*')\r\n        .eq('is_closed', false)\r\n        .order('created_at', { ascending: false })\r\n        .limit(1)\r\n        .single()\r\n\r\n    if (error) {\r\n        console.error('Error fetching active project:', error)\r\n        return null\r\n    }\r\n\r\n    return data as Project\r\n}\r\n\r\nexport interface BookingData {\r\n    project_id: string\r\n    farmer_name: string\r\n    phone: string\r\n    email: string\r\n    desired_start_date: string\r\n    desired_end_date: string\r\n    field_polygon: Polygon\r\n    area_10r: number\r\n    locked_price: number\r\n}\r\n\r\n/**\r\n * Create a new booking/reservation\r\n */\r\nexport async function createBooking(bookingData: BookingData): Promise<{ success: boolean; error?: string; bookingId?: string }> {\r\n    try {\r\n        // Convert GeoJSON polygon to WKT for PostGIS\r\n        const polygonWKT = geoJSONToWKT(bookingData.field_polygon)\r\n\r\n        const { data, error } = await supabase\r\n            .from('bookings')\r\n            .insert({\r\n                project_id: bookingData.project_id,\r\n                farmer_name: bookingData.farmer_name,\r\n                phone: bookingData.phone,\r\n                email: bookingData.email,\r\n                desired_start_date: bookingData.desired_start_date,\r\n                desired_end_date: bookingData.desired_end_date,\r\n                field_polygon: polygonWKT,\r\n                area_10r: bookingData.area_10r,\r\n                locked_price: bookingData.locked_price,\r\n            })\r\n            .select('id')\r\n            .single()\r\n\r\n        if (error) {\r\n            console.error('Error creating booking:', error)\r\n            return { success: false, error: error.message }\r\n        }\r\n\r\n        return { success: true, bookingId: data.id }\r\n    } catch (error) {\r\n        console.error('Unexpected error creating booking:', error)\r\n        return {\r\n            success: false,\r\n            error: error instanceof Error ? error.message : 'Unknown error occurred'\r\n        }\r\n    }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAGA;;;AAEO,eAAe;IAClB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACjC,IAAI,CAAC,YACL,MAAM,CAAC;IAEZ,IAAI,OAAO;QACP,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,EAAE;IACb;IAEA,OAAO,QAAqB,EAAE;AAClC;AAKO,eAAe;IAClB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACjC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,OAChB,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM,GACvC,KAAK,CAAC,GACN,MAAM;IAEX,IAAI,OAAO;QACP,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO;IACX;IAEA,OAAO;AACX;AAiBO,eAAe,cAAc,WAAwB;IACxD,IAAI;QACA,6CAA6C;QAC7C,MAAM,aAAa,IAAA,mJAAY,EAAC,YAAY,aAAa;QAEzD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACjC,IAAI,CAAC,YACL,MAAM,CAAC;YACJ,YAAY,YAAY,UAAU;YAClC,aAAa,YAAY,WAAW;YACpC,OAAO,YAAY,KAAK;YACxB,OAAO,YAAY,KAAK;YACxB,oBAAoB,YAAY,kBAAkB;YAClD,kBAAkB,YAAY,gBAAgB;YAC9C,eAAe;YACf,UAAU,YAAY,QAAQ;YAC9B,cAAc,YAAY,YAAY;QAC1C,GACC,MAAM,CAAC,MACP,MAAM;QAEX,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAClD;QAEA,OAAO;YAAE,SAAS;YAAM,WAAW,KAAK,EAAE;QAAC;IAC/C,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,sCAAsC;QACpD,OAAO;YACH,SAAS;YACT,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACpD;IACJ;AACJ"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yusuk/Documents/wwx/Wayfinder%20AgriX/v3-app/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport dynamic from 'next/dynamic';\nimport { calculateCurrentUnitPrice } from '@/lib/calculator';\nimport { fetchActiveProject, createBooking, type BookingData } from '@/lib/api';\nimport { Project } from '@/types/database';\nimport type { Polygon } from 'geojson';\nimport type { FarmerFormData } from '@/components/CampaignForm';\n\n// Dynamically import components to avoid SSR issues\nconst PolygonMap = dynamic(() => import('@/components/PolygonMap'), {\n  ssr: false,\n  loading: () => (\n    <div className=\"w-full h-full bg-slate-100 animate-pulse rounded-2xl flex items-center justify-center text-slate-400\">\n      Âú∞Âõ≥„ÇíË™≠„ÅøËæº„Åø‰∏≠...\n    </div>\n  )\n});\n\nconst CampaignForm = dynamic(() => import('@/components/CampaignForm'), {\n  ssr: false,\n});\n\nexport default function Home() {\n  const [project, setProject] = useState<Project | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [area10r, setArea10r] = useState<number>(0);\n  const [polygon, setPolygon] = useState<Polygon | null>(null);\n  const [coords, setCoords] = useState<{ lat: number; lng: number }[] | null>(null);\n\n  // Load active project on mount\n  useEffect(() => {\n    async function loadProject() {\n      const activeProject = await fetchActiveProject();\n      setProject(activeProject);\n      setLoading(false);\n    }\n    loadProject();\n  }, []);\n\n  const handlePolygonComplete = (\n    newCoords: { lat: number; lng: number }[] | null,\n    newArea10r: number,\n    newPolygon: Polygon | null\n  ) => {\n    setCoords(newCoords);\n    setArea10r(newArea10r);\n    setPolygon(newPolygon);\n  };\n\n  const handleFormSubmit = async (formData: FarmerFormData) => {\n    if (!project || !polygon) {\n      alert('Ê°à‰ª∂ÊÉÖÂ†±„Åæ„Åü„ÅØÂúÉÂ†¥„Éá„Éº„Çø„Åå‰∏çË∂≥„Åó„Å¶„ÅÑ„Åæ„Åô');\n      return;\n    }\n\n    // Calculate the locked price at submission time\n    const validation = calculateCurrentUnitPrice(project, area10r);\n    const lockedPrice = validation.currentPrice ?? project.base_price ?? 0;\n\n    const bookingData: BookingData = {\n      project_id: project.id,\n      farmer_name: formData.farmerName,\n      phone: formData.phone,\n      email: formData.email,\n      desired_start_date: formData.desiredStartDate,\n      desired_end_date: formData.desiredEndDate,\n      field_polygon: polygon,\n      area_10r: area10r,\n      locked_price: lockedPrice,\n    };\n\n    const result = await createBooking(bookingData);\n\n    if (result.success) {\n      alert(`‰∫àÁ¥Ñ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü!\\n‰∫àÁ¥ÑID: ${result.bookingId}\\n\\nÁ¢∫Ë™ç„É°„Éº„É´„Çí ${formData.email} „Å´ÈÄÅ‰ø°„Åó„Åæ„Åó„Åü„ÄÇ`);\n      // Reset form\n      setArea10r(0);\n      setPolygon(null);\n      setCoords(null);\n      // Reload to clear map\n      window.location.reload();\n    } else {\n      alert(`‰∫àÁ¥Ñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ${result.error}`);\n    }\n  };\n\n  if (loading) {\n    return (\n      <main className=\"min-h-screen bg-slate-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-green-600 mx-auto mb-4\"></div>\n          <p className=\"text-slate-600 font-medium\">Ë™≠„ÅøËæº„Åø‰∏≠...</p>\n        </div>\n      </main>\n    );\n  }\n\n  if (!project) {\n    return (\n      <main className=\"min-h-screen bg-slate-50 flex items-center justify-center p-4\">\n        <div className=\"bg-white p-8 rounded-2xl shadow-lg border border-slate-200 max-w-md text-center\">\n          <div className=\"text-6xl mb-4\">üåæ</div>\n          <h1 className=\"text-2xl font-bold text-slate-800 mb-2\">ÁèæÂú®ÂãüÈõÜ‰∏≠„ÅÆÊ°à‰ª∂„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì</h1>\n          <p className=\"text-slate-600\">Êñ∞„Åó„ÅÑÊ°à‰ª∂„ÅåÈñãÂßã„Åï„Çå„Çã„Åæ„Åß„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n        </div>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"min-h-screen bg-gradient-to-br from-slate-50 to-green-50/30\">\n      {/* Header */}\n      <header className=\"bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3\">\n            <div>\n              <h1 className=\"text-2xl md:text-3xl font-black text-slate-800 tracking-tight\">\n                <span className=\"text-green-600 mr-2\">üåæ Wayfinder</span>AgriX\n              </h1>\n              <p className=\"text-slate-500 text-sm font-medium mt-1\">Ëæ≤‰ΩúÊ•≠‰∫àÁ¥Ñ„Ç∑„Çπ„ÉÜ„É†</p>\n            </div>\n            <div className=\"flex items-center gap-2 bg-green-50 px-4 py-2 rounded-full border border-green-200\">\n              <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n              <span className=\"text-green-700 font-bold text-sm\">ÂãüÈõÜ‰∏≠</span>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n\n          {/* Left Column: Map */}\n          <section className=\"order-2 lg:order-1\">\n            <div className=\"bg-white p-4 rounded-2xl shadow-sm border border-slate-200 h-[500px] lg:h-[700px] relative\">\n              <div className=\"absolute top-6 left-6 z-[1000] bg-white/95 backdrop-blur px-4 py-2 rounded-xl shadow-md border border-slate-200\">\n                <h2 className=\"text-sm font-bold text-slate-600 mb-1\">ÂúÉÂ†¥„ÇíÊèèÁîª</h2>\n                <p className=\"text-xs text-slate-500\">Âú∞Âõ≥‰∏ä„Åß„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÂúÉÂ†¥„ÅÆÁØÑÂõ≤„ÇíÊåáÂÆö</p>\n              </div>\n\n              {/* Area Display Overlay */}\n              {area10r > 0 && (\n                <div className=\"absolute top-6 right-6 z-[1000] bg-green-600 text-white px-5 py-3 rounded-xl shadow-lg border-2 border-green-500 min-w-[180px]\">\n                  <div className=\"text-xs font-bold uppercase tracking-wider mb-1 opacity-90\">ÈÅ∏ÊäûÈù¢Á©ç</div>\n                  <div className=\"text-3xl font-black\">\n                    {area10r.toFixed(2)} <span className=\"text-sm font-normal opacity-90\">Âèç</span>\n                  </div>\n                </div>\n              )}\n\n              <div className=\"w-full h-full rounded-xl overflow-hidden\">\n                <PolygonMap\n                  onPolygonComplete={handlePolygonComplete}\n                  initialPolygon={coords || undefined}\n                />\n              </div>\n            </div>\n          </section>\n\n          {/* Right Column: Form */}\n          <section className=\"order-1 lg:order-2\">\n            <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-slate-200\">\n              <CampaignForm\n                project={project}\n                area10r={area10r}\n                onSubmit={handleFormSubmit}\n              />\n            </div>\n          </section>\n\n        </div>\n\n        {/* Footer Info */}\n        <footer className=\"mt-8 text-center text-sm text-slate-500\">\n          <p>„Åî‰∏çÊòé„Å™ÁÇπ„Åå„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„Çâ„ÄÅ„ÅäÊ∞óËªΩ„Å´„ÅäÂïè„ÅÑÂêà„Çè„Åõ„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n        </footer>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}