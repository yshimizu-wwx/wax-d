(()=>{var e={};e.id=165,e.ids=[165],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1258:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(482),n=r(9108),a=r(2563),o=r.n(a),l=r(8300),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7858)),"C:\\Users\\yusuk\\Documents\\wwx\\Wayfinder AgriX\\v3-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=[],x="/_not-found",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/_not-found",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9855:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},7125:(e,t,r)=>{Promise.resolve().then(r.bind(r,4755)),Promise.resolve().then(r.bind(r,2041))},2041:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(5344),n=r(3729),a=r(6506),o=r(8428),l=r(2273),i=r(7121),d=r(4243),c=r(1917),x=r(9895),u=r(8120),m=r(5750);function p(){var e;let t=(0,o.usePathname)(),[r,p]=(0,n.useState)(null),[h,g]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(0,m.ts)().then(p).finally(()=>g(!1))},[]);let f=async()=>{await (0,m.w7)()},b="/login"===t;return s.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center",children:[(0,s.jsxs)(a.default,{href:"/",className:"text-xl font-black text-slate-800 tracking-tight hover:text-green-600 transition-colors",children:[s.jsx("span",{className:"text-green-600",children:"\uD83C\uDF3E"})," Wayfinder AgriX"]}),s.jsx("nav",{className:"flex items-center gap-3",children:h?s.jsx("span",{className:"text-slate-400 text-sm",children:"..."}):r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.default,{href:"admin"===(e=r.role)||"provider"===e?"/admin":"/",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[s.jsx(l.Z,{className:"w-4 h-4"}),"マイページ"]}),"farmer"===r.role&&(0,s.jsxs)(a.default,{href:"/#applications",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[s.jsx(i.Z,{className:"w-4 h-4"}),"申込履歴"]}),"provider"===r.role&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.default,{href:"/provider/reports/new",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[s.jsx(i.Z,{className:"w-4 h-4"}),"実績報告"]}),(0,s.jsxs)(a.default,{href:"/provider/billings",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[s.jsx(d.Z,{className:"w-4 h-4"}),"請求"]})]}),("admin"===r.role||"provider"===r.role)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.default,{href:"/admin/masters",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[s.jsx(c.Z,{className:"w-4 h-4"}),"マスタ"]}),(0,s.jsxs)(a.default,{href:"/admin/users",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[s.jsx(x.Z,{className:"w-4 h-4"}),"ユーザー"]})]}),(0,s.jsxs)("button",{type:"button",onClick:f,className:"text-sm font-bold text-slate-700 hover:text-red-600 transition-colors px-3 py-2 rounded-lg hover:bg-red-50 border border-slate-200 hover:border-red-200 flex items-center gap-1",children:[s.jsx(u.Z,{className:"w-4 h-4"}),"ログアウト"]})]}):s.jsx(a.default,{href:b?"/":"/login",className:"text-sm font-bold text-white bg-green-600 hover:bg-green-500 px-4 py-2 rounded-lg transition-colors",children:b?"トップへ":"ログイン"})})]})})}},5750:(e,t,r)=>{"use strict";r.d(t,{ts:()=>n,w7:()=>a});var s=r(8704);async function n(){try{let{data:{session:e}}=await s.O.auth.getSession();if(!e)return null;let{data:t,error:r}=await s.O.from("users").select("*").eq("email",e.user.email).single();if(r||!t)return null;return t}catch(e){return console.error("Error getting current user:",e),null}}async function a(){await s.O.auth.signOut(),window.location.href="/login"}},8704:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});let s=(0,r(3974).createBrowserClient)("https://ayvieorwnyxxfygbhzny.supabase.co","sb_publishable_saY21TLJVLBNk5lg53j5Pg_PW9RAlEr")},7858:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,metadata:()=>m});var s=r(5036),n=r(2574),a=r.n(n),o=r(2255),l=r.n(o);r(5023);let i=(0,r(6843).createProxy)(String.raw`C:\Users\yusuk\Documents\wwx\Wayfinder AgriX\v3-app\src\components\Header.tsx`),{__esModule:d,$$typeof:c}=i,x=i.default;var u=r(7171);let m={title:"Wayfinder AgriX - ドローンあいのり予約",description:"農家と業者をつなぐ農作業予約プラットフォーム"};function p({children:e}){return s.jsx("html",{lang:"ja",children:(0,s.jsxs)("body",{className:`${a().variable} ${l().variable} font-sans antialiased`,children:[s.jsx(x,{}),e,s.jsx(u.x7,{position:"top-center",richColors:!0,closeButton:!0})]})})}},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,45],()=>r(1258));module.exports=s})();