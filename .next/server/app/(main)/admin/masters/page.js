(()=>{var e={};e.id=734,e.ids=[734],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},7408:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>o});var s=a(482),r=a(9108),n=a(2563),i=a.n(n),d=a(8300),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);a.d(t,l);let o=["",{children:["(main)",{children:["admin",{children:["masters",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4039)),"C:\\Users\\yusuk\\Documents\\wwx\\Wayfinder AgriX\\v3-app\\src\\app\\(main)\\admin\\masters\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2485)),"C:\\Users\\yusuk\\Documents\\wwx\\Wayfinder AgriX\\v3-app\\src\\app\\(main)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1342)),"C:\\Users\\yusuk\\Documents\\wwx\\Wayfinder AgriX\\v3-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\yusuk\\Documents\\wwx\\Wayfinder AgriX\\v3-app\\src\\app\\(main)\\admin\\masters\\page.tsx"],x="/(main)/admin/masters/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(main)/admin/masters/page",pathname:"/admin/masters",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4240:(e,t,a)=>{Promise.resolve().then(a.bind(a,8525))},7060:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5390:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7121:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},9388:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]])},2273:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},9798:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]])},2739:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8120:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},508:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},1917:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},1741:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},1838:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4243:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]])},6135:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},3746:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6810:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]])},5366:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},6506:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var s=a(1476),r=a.n(s)},8525:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var s=a(5344),r=a(3729),n=a(1917),i=a(9224);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,i.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),l=(0,i.Z)("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),o=(0,i.Z)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);var c=a(2739),x=a(1838),u=a(1741);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,i.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var h=a(7060),m=a(5750),y=a(9626),f=a(4755),b=a(3673);let g=[{key:"crop",label:"品目",icon:s.jsx(n.Z,{className:"w-4 h-4"})},{key:"task_category",label:"作業種別",icon:s.jsx(d,{className:"w-4 h-4"})},{key:"task_detail",label:"作業詳細",icon:s.jsx(l,{className:"w-4 h-4"})},{key:"pesticide",label:"農薬",icon:s.jsx(o,{className:"w-4 h-4"})}];function k(){let[e,t]=(0,r.useState)(null),[a,i]=(0,r.useState)(!0),[d,l]=(0,r.useState)("crop"),[o,k]=(0,r.useState)([]),[v,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)(null),[Z,M]=(0,r.useState)(""),[q,C]=(0,r.useState)(!1),[P,_]=(0,r.useState)(""),[z,S]=(0,r.useState)(!1),A=e?.role==="provider"?e.id:(e?.role,null),L=async()=>{void 0!==A&&(w(!0),k(await (0,y.iB)(d,A)),w(!1))};(0,r.useEffect)(()=>{(0,m.ts)().then(e=>{t(e),i(!1)})},[]),(0,r.useEffect)(()=>{e&&L()},[e,d]);let U=e=>{if(!e)return"操作に失敗しました";let t=e.toLowerCase();return t.includes("permission")||t.includes("denied")||t.includes("pgrst301")?"データの保存に必要な権限がありません。管理者にご連絡ください。":e},D=async()=>{let e=P.trim();if(!e){f.toast.error("名称を入力してください");return}S(!0);let t=await (0,y.Rn)(d,e,A??null,void 0);S(!1),t.success?(f.toast.success("追加しました"),_(""),C(!1),L()):f.toast.error(U(t.error)||"追加に失敗しました")},V=e=>{N(e.id),M(e.name)},R=async()=>{if(!j)return;let e=Z.trim();if(!e){f.toast.error("名称を入力してください");return}S(!0);let t=await (0,y.fz)(j,{name:e});S(!1),t.success?(f.toast.success("更新しました"),N(null),L()):f.toast.error(U(t.error)||"更新に失敗しました")},E=async e=>{S(!0);let t="active"===e.status?await (0,y.b9)(e.id):await (0,y.VJ)(e.id);S(!1),t.success?(f.toast.success("active"===e.status?"無効にしました":"有効にしました"),L()):f.toast.error(U(t.error)||"操作に失敗しました")};if(a)return s.jsx("main",{className:"min-h-full flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(c.Z,{className:"w-10 h-10 text-agrix-forest animate-spin"}),s.jsx("p",{className:"text-dashboard-text font-medium",children:"読み込み中..."})]})});if(!e||"admin"!==e.role&&"provider"!==e.role)return s.jsx("main",{className:"min-h-full flex items-center justify-center p-4",children:s.jsx(b.Zb,{children:s.jsx(b.aY,{className:"p-8 text-center text-dashboard-muted",children:"この画面を利用する権限がありません。"})})});let H=g.find(e=>e.key===d);return s.jsx("main",{className:"min-h-full",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h1",{className:"text-2xl font-black text-dashboard-text flex items-center gap-2",children:[s.jsx(n.Z,{className:"w-7 h-7 text-agrix-forest"}),"マスタ管理"]}),"provider"===e.role&&s.jsx("p",{className:"text-sm text-dashboard-muted",children:"自社マスタ＋共通マスタを表示"})]}),(0,s.jsxs)(b.Zb,{className:"overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-dashboard-border overflow-x-auto",children:g.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>{l(e.key),N(null),C(!1)},className:`flex items-center gap-2 px-5 py-4 text-sm font-bold whitespace-nowrap transition-colors ${d===e.key?"text-agrix-forest border-b-2 border-agrix-forest bg-agrix-forest/10":"text-dashboard-muted hover:bg-dashboard-bg"}`,children:[e.icon,e.label]},e.key))}),s.jsx(b.aY,{className:"p-4",children:v?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(c.Z,{className:"w-8 h-8 text-dashboard-muted animate-spin"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h2",{className:"font-bold text-dashboard-text flex items-center gap-2",children:[H?.icon,H?.label,"一覧"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>C(!0),className:"flex items-center gap-2 bg-agrix-forest text-white px-4 py-2 rounded-xl text-sm font-bold hover:bg-agrix-forest-light transition-colors",children:[s.jsx(x.Z,{className:"w-4 h-4"}),"追加"]})]}),q&&(0,s.jsxs)("div",{className:"flex gap-2 mb-4 p-3 bg-dashboard-bg rounded-xl border border-dashboard-border",children:[s.jsx("input",{type:"text",value:P,onChange:e=>_(e.target.value),placeholder:"名称を入力",className:"flex-1 px-4 py-2 rounded-lg border border-dashboard-border bg-dashboard-card text-dashboard-text placeholder:text-dashboard-muted focus:ring-2 focus:ring-agrix-forest focus:outline-none"}),(0,s.jsxs)("button",{type:"button",onClick:D,disabled:z,className:"bg-agrix-forest text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-agrix-forest-light disabled:opacity-50 flex items-center gap-2",children:[z?s.jsx(c.Z,{className:"w-4 h-4 animate-spin"}):s.jsx(x.Z,{className:"w-4 h-4"}),"登録"]}),s.jsx("button",{type:"button",onClick:()=>{C(!1),_("")},className:"px-4 py-2 rounded-lg border border-dashboard-border text-dashboard-muted font-bold text-sm hover:bg-dashboard-bg",children:"キャンセル"})]}),s.jsx("ul",{className:"divide-y divide-dashboard-border",children:0===o.length?s.jsx("li",{className:"py-8 text-center text-dashboard-muted text-sm",children:"データがありません。追加ボタンで登録してください。"}):o.map(e=>s.jsx("li",{className:`flex items-center justify-between py-3 px-2 rounded-lg ${"inactive"===e.status?"bg-dashboard-bg text-dashboard-muted":""}`,children:j===e.id?(0,s.jsxs)("div",{className:"flex-1 flex gap-2",children:[s.jsx("input",{type:"text",value:Z,onChange:e=>M(e.target.value),placeholder:"名称",className:"flex-1 px-3 py-2 rounded-lg border border-dashboard-border bg-dashboard-card text-dashboard-text placeholder:text-dashboard-muted focus:ring-2 focus:ring-agrix-forest focus:outline-none"}),(0,s.jsxs)("button",{type:"button",onClick:R,disabled:z,className:"text-agrix-forest font-bold text-sm hover:underline disabled:opacity-50 flex items-center gap-1",children:[z?s.jsx(c.Z,{className:"w-4 h-4 animate-spin"}):null,"保存"]}),s.jsx("button",{type:"button",onClick:()=>N(null),className:"text-dashboard-muted text-sm hover:underline",children:"キャンセル"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"font-medium text-dashboard-text",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>V(e),className:"p-2 text-dashboard-muted hover:text-agrix-forest hover:bg-agrix-forest/10 rounded-lg transition-colors",title:"編集",children:s.jsx(u.Z,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:()=>E(e),disabled:z,className:"p-2 rounded-lg transition-colors disabled:opacity-50",title:"active"===e.status?"無効にする":"有効にする",children:"active"===e.status?s.jsx(p,{className:"w-4 h-4 text-agrix-gold hover:bg-agrix-gold/20"}):s.jsx(h.Z,{className:"w-4 h-4 text-agrix-forest hover:bg-agrix-forest/10"})})]})]})},e.id))})]})})]})]})})}},3673:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>d,SZ:()=>o,Zb:()=>i,aY:()=>c,ll:()=>l});var s=a(5344),r=a(3729),n=a(1453);let i=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("rounded-xl border border-border bg-card text-card-foreground shadow-sm transition-all duration-200 hover:shadow-md",e),...t}));i.displayName="Card";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let l=r.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,n.cn)("text-lg font-bold leading-none tracking-tight text-card-foreground",e),...t}));l.displayName="CardTitle";let o=r.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},9626:(e,t,a)=>{"use strict";a.d(t,{Rn:()=>n,VJ:()=>l,b9:()=>d,fz:()=>i,iB:()=>r});var s=a(8704);async function r(e,t){let a=s.O.from("masters").select("*").eq("type",e).order("name",{ascending:!0});t&&(a=a.or(`provider_id.eq.${t},provider_id.is.null`));let{data:r,error:n}=await a;return n?(console.error("Error fetching masters:",n),[]):r||[]}async function n(e,t,a,r){try{let n="undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),{error:i}=await s.O.from("masters").insert({id:n,provider_id:a,type:e,name:t.trim(),parent_id:r||null,status:"active"});if(i)return{success:!1,error:i.message};return{success:!0,id:n}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function i(e,t){try{let{error:a}=await s.O.from("masters").update(t).eq("id",e);if(a)return{success:!1,error:a.message};return{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function d(e){return i(e,{status:"inactive"})}async function l(e){return i(e,{status:"active"})}},4039:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>i});let s=(0,a(6843).createProxy)(String.raw`C:\Users\yusuk\Documents\wwx\Wayfinder AgriX\v3-app\src\app\(main)\admin\masters\page.tsx`),{__esModule:r,$$typeof:n}=s,i=s.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,240,337,859,804,993],()=>a(7408));module.exports=s})();