(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{683:function(e,t,r){Promise.resolve().then(r.t.bind(r,5972,23)),Promise.resolve().then(r.t.bind(r,8298,23)),Promise.resolve().then(r.bind(r,6288)),Promise.resolve().then(r.t.bind(r,3385,23)),Promise.resolve().then(r.bind(r,8550))},7461:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(4090),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let r=(0,n.forwardRef)((r,l)=>{let{color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:d="",children:h,...x}=r;return(0,n.createElement)("svg",{ref:l,...s,width:i,height:i,stroke:o,strokeWidth:u?24*Number(c)/Number(i):c,className:["lucide","lucide-".concat(a(e)),d].join(" "),...x},[...t.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(h)?h:[h]])});return r.displayName="".concat(e),r}},9475:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(7461).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},5423:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(7461).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},4697:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(7461).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},4059:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(7461).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},8792:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(5250),s=r.n(n)},7907:function(e,t,r){"use strict";var n=r(5313);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},8550:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(3827),s=r(4090),a=r(8792),l=r(7907),o=r(5423),i=r(9475),c=r(7461);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,c.Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);var d=r(4697),h=r(4059);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,c.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var f=r(8793);function m(){var e;let t=(0,l.usePathname)(),[r,c]=(0,s.useState)(null),[m,y]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(0,f.ts)().then(c).finally(()=>y(!1))},[]);let p=async()=>{await (0,f.w7)()},g="/login"===t;return(0,n.jsx)("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center",children:[(0,n.jsxs)(a.default,{href:"/",className:"text-xl font-black text-slate-800 tracking-tight hover:text-green-600 transition-colors",children:[(0,n.jsx)("span",{className:"text-green-600",children:"\uD83C\uDF3E"})," Wayfinder AgriX"]}),(0,n.jsx)("nav",{className:"flex items-center gap-3",children:m?(0,n.jsx)("span",{className:"text-slate-400 text-sm",children:"..."}):r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.default,{href:"admin"===(e=r.role)||"provider"===e?"/admin":"/",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[(0,n.jsx)(o.Z,{className:"w-4 h-4"}),"マイページ"]}),"farmer"===r.role&&(0,n.jsxs)(a.default,{href:"/#applications",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[(0,n.jsx)(i.Z,{className:"w-4 h-4"}),"申込履歴"]}),"provider"===r.role&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.default,{href:"/provider/reports/new",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[(0,n.jsx)(i.Z,{className:"w-4 h-4"}),"実績報告"]}),(0,n.jsxs)(a.default,{href:"/provider/billings",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[(0,n.jsx)(u,{className:"w-4 h-4"}),"請求"]})]}),("admin"===r.role||"provider"===r.role)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.default,{href:"/admin/masters",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[(0,n.jsx)(d.Z,{className:"w-4 h-4"}),"マスタ"]}),(0,n.jsxs)(a.default,{href:"/admin/users",className:"text-sm font-bold text-slate-700 hover:text-green-600 transition-colors px-3 py-2 rounded-lg hover:bg-slate-50 flex items-center gap-1",children:[(0,n.jsx)(h.Z,{className:"w-4 h-4"}),"ユーザー"]})]}),(0,n.jsxs)("button",{type:"button",onClick:p,className:"text-sm font-bold text-slate-700 hover:text-red-600 transition-colors px-3 py-2 rounded-lg hover:bg-red-50 border border-slate-200 hover:border-red-200 flex items-center gap-1",children:[(0,n.jsx)(x,{className:"w-4 h-4"}),"ログアウト"]})]}):(0,n.jsx)(a.default,{href:g?"/":"/login",className:"text-sm font-bold text-white bg-green-600 hover:bg-green-500 px-4 py-2 rounded-lg transition-colors",children:g?"トップへ":"ログイン"})})]})})}},8793:function(e,t,r){"use strict";r.d(t,{ts:function(){return s},w7:function(){return a}});var n=r(4958);async function s(){try{let{data:{session:e}}=await n.O.auth.getSession();if(!e)return null;let{data:t,error:r}=await n.O.from("users").select("*").eq("email",e.user.email).single();if(r||!t)return null;return t}catch(e){return console.error("Error getting current user:",e),null}}async function a(){await n.O.auth.signOut(),window.location.href="/login"}},4958:function(e,t,r){"use strict";r.d(t,{O:function(){return n}});let n=(0,r(6070).createBrowserClient)("https://ayvieorwnyxxfygbhzny.supabase.co","sb_publishable_saY21TLJVLBNk5lg53j5Pg_PW9RAlEr")},3385:function(){},8298:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3",variable:"__variable_f367f3"}},5972:function(e){e.exports={style:{fontFamily:"'__Noto_Sans_JP_7ac844', '__Noto_Sans_JP_Fallback_7ac844'",fontStyle:"normal"},className:"__className_7ac844",variable:"__variable_7ac844"}}},function(e){e.O(0,[807,755,250,288,971,69,744],function(){return e(e.s=683)}),_N_E=e.O()}]);