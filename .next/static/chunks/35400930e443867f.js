(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25760,e=>{"use strict";function t(e){if(null==e||""===e)return 0;let t=Number(e);return isNaN(t)?0:t}function l(e,l){let s=t(e.target_area_10r)||1,a=t(e.base_price),r=t(e.min_price),n=t(e.min_target_area_10r),i=t(e.max_target_area_10r)||s,d=t(e.execution_price),o=Math.min(l/s,1),c=null,u=!1;if(n>0)if(l<n)o=l/n,c=null,u=!0;else if(l>=i)o=1,c=Math.floor(r);else{let e=d>0?d:a;c=Math.floor(e+(r-e)*(o=n<i?(l-n)/(i-n):1))}else c=Math.floor(a-(a-r)*o);return{currentPrice:c,progress:o,isUnformed:u}}function s(e,t){let l=Number(e)||0;return Math.floor((Number(t)||0)*l)}function a(e){let t=Number(e)||0,l=Math.floor(.1*t);return{taxAmount:l,amountInclusive:t+l,taxRate:.1}}function r(e){if(!e||e.length<3)return 0;let t=0;for(let l=0;l<e.length;l++){let s=(l+1)%e.length,a=e[l].lat*Math.PI/180,r=e[l].lng*Math.PI/180,n=e[s].lat*Math.PI/180;t+=(e[s].lng*Math.PI/180-r)*(2+Math.sin(a)+Math.sin(n))}return Math.abs(6371e3*t*6371e3/2)}e.s(["calculateCurrentUnitPrice",()=>l,"calculateFinalAmount",()=>s,"calculatePolygonArea",()=>r,"calculateTax",()=>a])},67585,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let s=e.r(32061);function a({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new s.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,l)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"encodeURIPath",{enumerable:!0,get:function(){return s}})},52157,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"PreloadChunks",{enumerable:!0,get:function(){return d}});let s=e.r(43476),a=e.r(74080),r=e.r(63599),n=e.r(9885),i=e.r(43369);function d({moduleIds:e}){if("u">typeof window)return null;let t=r.workAsyncStorage.getStore();if(void 0===t)return null;let l=[];if(t.reactLoadableManifest&&e){let s=t.reactLoadableManifest;for(let t of e){if(!s[t])continue;let e=s[t].files;l.push(...e)}}if(0===l.length)return null;let d=(0,i.getDeploymentIdQueryOrEmptyString)();return(0,s.jsx)(s.Fragment,{children:l.map(e=>{let l=`${t.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}${d}`;return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:l,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(l,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return o}});let s=e.r(43476),a=e.r(71645),r=e.r(67585),n=e.r(52157);function i(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(e){let t={...d,...e},l=(0,a.lazy)(()=>t.loader().then(i)),o=t.loading;function c(e){let i=o?(0,s.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=!t.ssr||!!t.loading,c=d?a.Suspense:a.Fragment,u=t.ssr?(0,s.jsxs)(s.Fragment,{children:["u"<typeof window?(0,s.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,s.jsx)(l,{...e})]}):(0,s.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(l,{...e})});return(0,s.jsx)(c,{...d?{fallback:i}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return a}});let s=e.r(55682)._(e.r(69093));function a(e,t){let l={};"function"==typeof e&&(l.loader=e);let a={...l,...t};return(0,s.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),t.exports=l.default)},52683,e=>{"use strict";var t=e.i(43476),l=e.i(71645),s=e.i(70703),a=e.i(25760);let r=(0,s.default)(()=>e.A(98736),{loadableGenerated:{modules:[45549]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"w-full h-96 bg-slate-100 animate-pulse rounded-lg flex items-center justify-center text-slate-400",children:"Loading Map..."})}),n={id:"demo-project",title:"Demonstration Campaign",location:"Wakayama Minabe",base_price:4600,min_price:3e3,target_area_10r:100,min_target_area_10r:50,max_target_area_10r:100,execution_price:4e3,current_price:4600};function i(){let[e]=(0,l.useState)(n),[s,i]=(0,l.useState)(0),[d,o]=(0,l.useState)(0),c=(0,l.useMemo)(()=>s/991.74,[s]);(0,l.useEffect)(()=>{o(c)},[c]);let u=(0,a.calculateCurrentUnitPrice)(e,d),x=u.currentPrice??e.base_price??0,m=(0,a.calculateFinalAmount)(x,d),f=(0,a.calculateTax)(m);return(0,t.jsx)("main",{className:"min-h-screen bg-slate-50 p-4 md:p-8 font-sans text-slate-800",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,t.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl md:text-3xl font-black text-slate-800 tracking-tight",children:[(0,t.jsx)("span",{className:"text-green-600 mr-2",children:"Wayfinder"}),"AgriX"]}),(0,t.jsx)("p",{className:"text-slate-500 font-medium",children:"Reverse Auction Simulator"})]}),(0,t.jsx)("div",{className:"mt-4 md:mt-0 flex gap-3",children:(0,t.jsxs)("div",{className:"px-4 py-2 bg-green-50 text-green-700 rounded-lg font-bold text-sm",children:["Status: ",u.isUnformed?"Unformed":"Active"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("section",{className:"bg-white p-1 rounded-2xl shadow-sm border border-slate-100 overflow-hidden h-[500px] lg:h-[600px] relative",children:[(0,t.jsx)(r,{onPolygonComplete:(e,t)=>i(t)}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur p-4 rounded-xl shadow-lg border border-slate-100 z-[1000] min-w-[160px]",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Measured Area"}),(0,t.jsxs)("div",{className:"text-2xl font-black text-slate-800",children:[s.toFixed(0)," ",(0,t.jsx)("span",{className:"text-sm font-normal text-slate-500",children:"m²"})]}),(0,t.jsxs)("div",{className:"text-sm font-bold text-green-600 mt-1",children:[c.toFixed(2)," ",(0,t.jsx)("span",{className:"text-xs text-green-500",children:"Tan (10a)"})]})]})]}),(0,t.jsxs)("section",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center",children:[(0,t.jsx)("i",{className:"w-1 h-6 bg-blue-500 rounded-full mr-3 block"}),"Campaign Details"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl",children:[(0,t.jsx)("div",{className:"text-slate-500 mb-1",children:"Location"}),(0,t.jsx)("div",{className:"font-bold text-slate-800",children:e.location})]}),(0,t.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl",children:[(0,t.jsx)("div",{className:"text-slate-500 mb-1",children:"Target Area"}),(0,t.jsxs)("div",{className:"font-bold text-slate-800",children:[e.target_area_10r," Tan"]})]}),(0,t.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl",children:[(0,t.jsx)("div",{className:"text-slate-500 mb-1",children:"Start Price"}),(0,t.jsxs)("div",{className:"font-bold text-slate-800",children:["¥",e.base_price?.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl",children:[(0,t.jsx)("div",{className:"text-slate-500 mb-1",children:"Min Price"}),(0,t.jsxs)("div",{className:"font-bold text-slate-800 text-green-600",children:["¥",e.min_price?.toLocaleString()]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-green-500"}),(0,t.jsxs)("h2",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center",children:[(0,t.jsx)("i",{className:"w-1 h-6 bg-green-500 rounded-full mr-3 block"}),"Price Simulation"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"font-bold text-slate-600",children:"Progress"}),(0,t.jsxs)("span",{className:"font-bold text-blue-600",children:[(100*u.progress).toFixed(0),"%"]})]}),(0,t.jsx)("div",{className:"h-4 bg-slate-100 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all duration-500 ease-out",style:{width:`${Math.min(100*u.progress,100)}%`}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"Total Applied Area (Override)"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"range",min:"0",max:e.max_target_area_10r||200,step:"0.1",value:d,onChange:e=>o(Number(e.target.value)),className:"flex-1 h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),(0,t.jsx)("div",{className:"w-24 bg-white border-2 border-slate-200 rounded-lg px-3 py-2 font-mono text-right font-bold focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-100",children:d.toFixed(1)}),(0,t.jsx)("span",{className:"text-slate-500 font-bold",children:"Tan"})]}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-2",children:"* Drag slider to simulate different area totals"})]}),(0,t.jsx)("div",{className:"border-t border-slate-100 my-6"}),(0,t.jsxs)("div",{className:"bg-slate-900 rounded-2xl p-6 text-white text-center space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-slate-400 text-sm font-bold uppercase tracking-wider mb-1",children:"Current Unit Price"}),(0,t.jsxs)("div",{className:"text-4xl font-black text-green-400 flex justify-center items-baseline gap-1",children:[(0,t.jsx)("span",{className:"text-2xl",children:"¥"}),x?.toLocaleString(),(0,t.jsx)("span",{className:"text-sm font-normal text-slate-400 ml-1",children:"/ 10a"})]}),u.isUnformed&&(0,t.jsx)("div",{className:"text-red-400 text-xs font-bold mt-1",children:"⚠️ Not yet formed (Below min area)"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 border-t border-slate-700 pt-4 mt-4",children:[(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Total (Ex. Tax)"}),(0,t.jsxs)("div",{className:"font-bold text-lg",children:["¥",m.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Total (Inc. Tax)"}),(0,t.jsxs)("div",{className:"font-bold text-xl text-yellow-400",children:["¥",f.amountInclusive.toLocaleString()]})]})]})]})]})]})]})]})]})})}e.s(["default",()=>i])},98736,e=>{e.v(t=>Promise.all(["static/chunks/4e485c1f971839e8.js","static/chunks/603bcf88adfeb4a4.css"].map(t=>e.l(t))).then(()=>t(45549)))}]);