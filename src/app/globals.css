@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tech-Noir / Precision SaaS — Design Token (Linear/Vercel inspired) */
/* Light: 洗練されたライトモード */
:root {
  --background: 0 0% 99%;            /* #fafafa */
  --foreground: 240 5.9% 10%;        /* Zinc-900 */
  --card: 0 0% 100%;
  --card-foreground: 240 5.9% 10%;
  --primary: 217 91% 60%;            /* #3b82f6 Blue-500 */
  --primary-foreground: 0 0% 100%;
  --secondary: 240 4% 96%;
  --secondary-foreground: 240 5.9% 10%;
  --muted: 240 4% 96%;
  --muted-foreground: 240 4% 46%;   /* Zinc-500 */
  --accent: 240 4% 96%;
  --accent-foreground: 240 5.9% 10%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  --border: 240 5% 90%;              /* 繊細なボーダー */
  --input: 240 5% 90%;
  --ring: 217 91% 60%;
}

/* Dark: 既存の Tech-Noir */
.dark,
[data-theme="dark"] {
  --background: 240 5.9% 3.9%;       /* #09090b Zinc-950 */
  --foreground: 0 0% 98%;
  --card: 240 5.9% 10%;
  --card-foreground: 0 0% 98%;
  --primary: 217 91% 60%;
  --primary-foreground: 0 0% 100%;
  --secondary: 240 4% 16%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 4% 16%;
  --muted-foreground: 240 4% 65%;
  --accent: 240 4% 16%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  --border: 240 4% 16%;
  --input: 240 4% 16%;
  --ring: 217 91% 60%;
}

/* Dark Tech Aesthetics — 深いスレートネイビー */
.dashboard-app {
  --dashboard-bg: #0B0F19;
  --dashboard-card: #0f172a;
  --dashboard-text: #f8fafc;
  --dashboard-muted: #94a3b8;
  --dashboard-border: #1e293b;
}

.auth-theme {
  --background: 240 5.9% 3.9%;
  --foreground: 0 0% 98%;
  --primary: 217 91% 60%;
  --primary-foreground: 0 0% 100%;
  background-color: #09090b;
}

body {
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: var(--font-inter), Inter, sans-serif;
  letter-spacing: -0.025em;
}

/* ダッシュボード内のヘッダー・タイトルは幾何学的サンセリフで統一 */
.dashboard-app h1,
.dashboard-app h2,
.dashboard-app h3,
.dashboard-app .font-heading {
  font-family: var(--font-inter), Inter, system-ui, sans-serif;
}

@layer base {
  * {
    @apply border-border;
  }
  a {
    @apply text-inherit no-underline;
  }
  .focus-ring {
    @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
  }
}

/* 繊細なボーダー・シャドウ（テックティア） */
@layer utilities {
  .glass {
    @apply bg-card/80 backdrop-blur-md border border-border;
  }
  .glass-subtle {
    @apply bg-card/60 backdrop-blur-sm border border-border/80;
  }
  .card-hover {
    @apply transition-all duration-200 hover:shadow-md hover:-translate-y-0.5;
  }
  .border-subtle {
    @apply border border-border/80 shadow-sm;
  }
}

.safe-area-pb {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* 地図ポップアップ：白背景で文字を常に視認可能に（ダッシュボードテーマの影響を受けない） */
.leaflet-popup-agrix.leaflet-popup-content-wrapper {
  background: #fff;
  color: #171717;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}
.leaflet-popup-agrix .leaflet-popup-content {
  margin: 10px 14px;
  color: #171717;
}

/* 畑ポリゴン上のラベル（「畑を登録」「登録した畑」） */
.leaflet-tooltip.polygon-label-tooltip {
  background: rgba(255, 255, 255, 0.95);
  color: #1a1a1a;
  border: 2px solid #DC2626;
  border-radius: 8px;
  padding: 6px 12px;
  font-weight: bold;
  font-size: 14px;
  white-space: nowrap;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}
